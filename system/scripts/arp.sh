#!/bin/bash
for (( i=1; i<=$1; i++))
do
  echo "echo -n \"VM$i\""
for (( j=1; j<=$1; j++))
do
	if [[ $i != $j ]]
	then
	echo ssh 10.1.1.`printf "%d"  $i` \"arp -s 10.1.2.$j -i eth1 00:00:00:02:00:`printf "%02d"  $j`\"
	#ssh 192.168.122.201 "arp -s 10.1.2.2 00:16:3e:00:01:02"
	fi
done
# echo "echo -ne . >&2 "
echo "echo -e \"\t\t\t\t[ OK ]\""
done
echo "echo \"\" >&2"
#ssh 192.168.122.201 "arp -s 10.1.2.2 00:16:3e:00:01:02"
#ssh 192.168.122.201 "arp -s 10.1.2.3 00:16:3e:00:01:03"
#ssh 192.168.122.201 "arp -s 10.1.2.4 00:16:3e:00:01:04"

#ssh 192.168.122.202 "arp -s 10.1.2.1 00:16:3e:00:01:01"
#ssh 192.168.122.202 "arp -s 10.1.2.3 00:16:3e:00:01:03"
#ssh 192.168.122.202 "arp -s 10.1.2.4 00:16:3e:00:01:04"

#ssh 192.168.122.203 "arp -s 10.1.2.2 00:16:3e:00:01:02"
#ssh 192.168.122.203 "arp -s 10.1.2.1 00:16:3e:00:01:01"
#ssh 192.168.122.203 "arp -s 10.1.2.4 00:16:3e:00:01:04"

#ssh 192.168.122.204 "arp -s 10.1.2.2 00:16:3e:00:01:02"
#ssh 192.168.122.204 "arp -s 10.1.2.3 00:16:3e:00:01:03"
#ssh 192.168.122.204 "arp -s 10.1.2.1 00:16:3e:00:01:01"
